# 1. Each motor can spin forward and backward independently with varying speed.
    left_motor.set_effort(20)
    
    right_motor.set_effort(-20)
    left_motor.set_effort(-20)
    right_motor.set_effort(20) 
    left_motor.set_effort(100)
    right_motor.set_effort(0)
    left_motor.disable()
    right_motor.disable()



# 2. Each motor can be enabled and disabled individually and does not start moving when enabled.
    left_motor.enable()
    left_motor.set_effort(50)
    left_motor.disable()
    right_motor.enable()
    right_motor.set_effort(50)
    right_motor.disable()

# 3. Each encoder position can grow in the positive and negative directions.
    print("Initial Left Encoder Position:", left_encoder.position)  
    left_motor.enable()
    left_motor.set_effort(100)
    sleep(1)  # Let the motor run for 1 second
    print("Left Encoder Position (should increase):", left_encoder.position)

    print("Initial Right Encoder Position:", right_encoder.position)
    right_motor.enable()
    right_motor.set_effort(100)
    sleep(1)  # Let the motor run for 1 second
    print("Right Encoder Position (should increase):", right_encoder.position)

    left_encoder.zero()
    right_encoder.zero()
    print("Left Encoder Position after zeroing:", left_encoder.position)
    print("Right Encoder Position after zeroing:", right_encoder.position)

    left_motor.set_effort(-20)
    right_motor.set_effort(-20)
    sleep(1)  # Let the motors run for 1 second
    print("Left Encoder Position (should decrease):", left_encoder.position)
    print("Right Encoder Position (should decrease):", right_encoder.position)

    left_motor.disable()
    right_motor.disable()

# 4. Timer reload has no effect on the encoder speed or position

    initial_left_position = left_encoder.position
    initial_right_position = right_encoder.position
    tim2.counter(0xFFFE) #does this even set the counter?
    tim3.counter(0xFFFE)
    
    left_motor.enable()
    right_motor.enable()
    left_motor.set_effort(50)
    right_motor.set_effort(50)
    # Simulate timer reload by manually setting the timer counter to near max value

    sleep(1)  # Let the motors run for 1 second

    final_left_position = left_encoder.position
    final_right_position = right_encoder.position

    print("Left Encoder Position Change after Timer Reload:", final_left_position - initial_left_position)
    print("Right Encoder Position Change after Timer Reload:", final_right_position - initial_right_position)

    left_motor.disable()
    right_motor.disable()

# 5. The encoder and motor objects are paired together properly in code so that spinning a motor causes its associated encoder to count.

    left_encoder.zero()
    right_encoder.zero()
    left_motor.enable()
    right_motor.enable()
    left_motor.set_effort(50)
    right_motor.set_effort(0)

    time.sleep(1)  # Let the left motor run for 2 seconds   
    print("Left Encoder Position (should be > 0):", left_encoder.position)
    print("Right Encoder Position (should be 0):", right_encoder.position)

    left_motor.set_effort(0)
    right_motor.set_effort(50)
    time.sleep(1)  # Let the right motor run for 2 seconds
    print("Left Encoder Position (should be unchanged):", left_encoder.position)
    print("Right Encoder Position (should be > 0):", right_encoder.position)
    left_motor.disable()
    right_motor.disable()


# 6. The encoders each count upward when the motors have a positive duty cycle applied and the wheels rotate 
# such that Romi would drive forward. If this test fails consider whether it is better to fix the sign 
# convention in software or in hardware.
    left_encoder.zero()
    right_encoder.zero()
    left_motor.enable()
    right_motor.enable()
    left_motor.set_effort(50)  # Positive effort for forward motion
    right_motor.set_effort(-50)  # Positive effort for forward motion

    time.sleep(1)  # Let the motors run for 2 seconds   
    print("Left Encoder Position (should be > 0):", left_encoder.position)
    print("Right Encoder Position (should be < 0):", right_encoder.position)
    left_motor.disable()
    right_motor.disable()
    