<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.15.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ME405 Mechatronics Romi: cotask.TaskList Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">ME405 Mechatronics Romi
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.15.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('classcotask_1_1_task_list.html','','classcotask_1_1_task_list-members'); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">cotask.TaskList Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>A list of tasks used internally by the task scheduler.  
 <a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-pub-methods" class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aad6d72c01326f1c869492c5643f2a42e" id="r_aad6d72c01326f1c869492c5643f2a42e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aad6d72c01326f1c869492c5643f2a42e">__init__</a> (self)</td></tr>
<tr class="memdesc:aad6d72c01326f1c869492c5643f2a42e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the task list.  <br /></td></tr>
<tr class="memitem:ab6aaf44123a285f4355919a5a8229c39" id="r_ab6aaf44123a285f4355919a5a8229c39"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab6aaf44123a285f4355919a5a8229c39">append</a> (self, task)</td></tr>
<tr class="memdesc:ab6aaf44123a285f4355919a5a8229c39"><td class="mdescLeft">&#160;</td><td class="mdescRight">Append a task to the task list.  <br /></td></tr>
<tr class="memitem:aa048a6b12954d03b8fbf78dff7ace907" id="r_aa048a6b12954d03b8fbf78dff7ace907"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa048a6b12954d03b8fbf78dff7ace907">rr_sched</a> (self)</td></tr>
<tr class="memdesc:aa048a6b12954d03b8fbf78dff7ace907"><td class="mdescLeft">&#160;</td><td class="mdescRight">Run tasks in order, ignoring the tasks' priorities.  <br /></td></tr>
<tr class="memitem:a53819d1e25955560b7cb06bd21715966" id="r_a53819d1e25955560b7cb06bd21715966"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a53819d1e25955560b7cb06bd21715966">pri_sched</a> (self)</td></tr>
<tr class="memdesc:a53819d1e25955560b7cb06bd21715966"><td class="mdescLeft">&#160;</td><td class="mdescRight">Run tasks according to their priorities.  <br /></td></tr>
<tr class="memitem:a425ca90daaae28550bf1b3aa2da018ab" id="r_a425ca90daaae28550bf1b3aa2da018ab"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a425ca90daaae28550bf1b3aa2da018ab">__repr__</a> (self)</td></tr>
<tr class="memdesc:a425ca90daaae28550bf1b3aa2da018ab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create some diagnostic text showing the tasks in the task list.  <br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-pub-attribs" class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a724ac8246e4b4bf4493d5fce02a8307e" id="r_a724ac8246e4b4bf4493d5fce02a8307e"><td class="memItemLeft" align="right" valign="top">list&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a724ac8246e4b4bf4493d5fce02a8307e">pri_list</a> = []</td></tr>
<tr class="memdesc:a724ac8246e4b4bf4493d5fce02a8307e"><td class="mdescLeft">&#160;</td><td class="mdescRight">The list of priority lists.  <br /></td></tr>
</table>
<a name="details" id="details"></a><h2 id="header-details" class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A list of tasks used internally by the task scheduler. </p>
<p>This class holds the list of tasks which will be run by the task scheduler. The task list is usually not directly used by the programmer except when tasks are added to it and the scheduler is called. An example showing the use of the task list is given in the last few lines of the documentation for class <code><a class="el" href="classcotask_1_1_task.html" title="Implements multitasking with scheduling and some performance logging.">Task</a></code>.</p>
<p>The task list is sorted by priority so that the scheduler can efficiently look through the list to find the highest priority task which is ready to run at any given time. Tasks can also be scheduled in a simpler "round-robin" fashion. </p>

<p class="definition">Definition at line <a class="el" href="cotask_8py_source.html#l00288">288</a> of file <a class="el" href="cotask_8py_source.html">cotask.py</a>.</p>
</div><a name="doc-constructors" id="doc-constructors"></a><h2 id="header-doc-constructors" class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="aad6d72c01326f1c869492c5643f2a42e" name="aad6d72c01326f1c869492c5643f2a42e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad6d72c01326f1c869492c5643f2a42e">&#9670;&#160;</a></span>__init__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cotask.TaskList.__init__ </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the task list. </p>
<p>This creates the list of priorities in which tasks will be organized by priority. </p>

<p class="definition">Definition at line <a class="el" href="cotask_8py_source.html#l00292">292</a> of file <a class="el" href="cotask_8py_source.html">cotask.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  292</span>    <span class="keyword">def </span>__init__(self):</div>
<div class="line"><span class="lineno">  293</span> </div>
<div class="line"><span class="lineno">  294</span>        </div>
<div class="line"><span class="lineno">  298</span>        self.pri_list = []</div>
<div class="line"><span class="lineno">  299</span> </div>
</div><!-- fragment -->
</div>
</div>
<a name="doc-func-members" id="doc-func-members"></a><h2 id="header-doc-func-members" class="groupheader">Member Function Documentation</h2>
<a id="a425ca90daaae28550bf1b3aa2da018ab" name="a425ca90daaae28550bf1b3aa2da018ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a425ca90daaae28550bf1b3aa2da018ab">&#9670;&#160;</a></span>__repr__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cotask.TaskList.__repr__ </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create some diagnostic text showing the tasks in the task list. </p>

<p class="definition">Definition at line <a class="el" href="cotask_8py_source.html#l00364">364</a> of file <a class="el" href="cotask_8py_source.html">cotask.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  364</span>    <span class="keyword">def </span>__repr__(self):</div>
<div class="line"><span class="lineno">  365</span>        ret_str = <span class="stringliteral">&quot;TASK                  PRI    PERIOD    RUNS   AVG DUR   MAX &quot;</span> <span class="stringliteral">&quot;DUR  AVG LATE  MAX LATE\n&quot;</span></div>
<div class="line"><span class="lineno">  366</span>        <span class="keywordflow">for</span> pri <span class="keywordflow">in</span> self.pri_list:</div>
<div class="line"><span class="lineno">  367</span>            <span class="keywordflow">for</span> task <span class="keywordflow">in</span> pri[2:]:</div>
<div class="line"><span class="lineno">  368</span>                ret_str += str(task) + <span class="stringliteral">&quot;\n&quot;</span></div>
<div class="line"><span class="lineno">  369</span> </div>
<div class="line"><span class="lineno">  370</span>        <span class="keywordflow">return</span> ret_str</div>
<div class="line"><span class="lineno">  371</span> </div>
<div class="line"><span class="lineno">  372</span> </div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="cotask_8py_source.html#l00298">pri_list</a>.</p>

</div>
</div>
<a id="ab6aaf44123a285f4355919a5a8229c39" name="ab6aaf44123a285f4355919a5a8229c39"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab6aaf44123a285f4355919a5a8229c39">&#9670;&#160;</a></span>append()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cotask.TaskList.append </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>task</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Append a task to the task list. </p>
<p>The list will be sorted by task priorities so that the scheduler can quickly find the highest priority task which is ready to run at any given time. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">task</td><td>The task to be appended to the list </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="cotask_8py_source.html#l00304">304</a> of file <a class="el" href="cotask_8py_source.html">cotask.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  304</span>    <span class="keyword">def </span>append(self, task):</div>
<div class="line"><span class="lineno">  305</span>        <span class="comment"># See if there&#39;s a tasklist with the given priority in the main list</span></div>
<div class="line"><span class="lineno">  306</span>        new_pri = task.priority</div>
<div class="line"><span class="lineno">  307</span>        <span class="keywordflow">for</span> pri <span class="keywordflow">in</span> self.pri_list:</div>
<div class="line"><span class="lineno">  308</span>            <span class="comment"># If a tasklist with this priority exists, add this task to it.</span></div>
<div class="line"><span class="lineno">  309</span>            <span class="keywordflow">if</span> pri[0] == new_pri:</div>
<div class="line"><span class="lineno">  310</span>                pri.append(task)</div>
<div class="line"><span class="lineno">  311</span>                <span class="keywordflow">break</span></div>
<div class="line"><span class="lineno">  312</span> </div>
<div class="line"><span class="lineno">  313</span>        <span class="comment"># If the priority isn&#39;t in the list, this else clause starts a new</span></div>
<div class="line"><span class="lineno">  314</span>        <span class="comment"># priority list with this task as first one. A priority list has the</span></div>
<div class="line"><span class="lineno">  315</span>        <span class="comment"># priority as element 0, an index into the list of tasks (used for</span></div>
<div class="line"><span class="lineno">  316</span>        <span class="comment"># round-robin scheduling those tasks) as the second item, and tasks</span></div>
<div class="line"><span class="lineno">  317</span>        <span class="comment"># after those</span></div>
<div class="line"><span class="lineno">  318</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  319</span>            self.pri_list.append([new_pri, 2, task])</div>
<div class="line"><span class="lineno">  320</span> </div>
<div class="line"><span class="lineno">  321</span>        <span class="comment"># Make sure the main list (of lists at each priority) is sorted</span></div>
<div class="line"><span class="lineno">  322</span>        self.pri_list.sort(key=<span class="keyword">lambda</span> pri: pri[0], reverse=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  323</span> </div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="cotask_8py_source.html#l00304">append()</a>, and <a class="el" href="cotask_8py_source.html#l00298">pri_list</a>.</p>

</div>
</div>
<a id="a53819d1e25955560b7cb06bd21715966" name="a53819d1e25955560b7cb06bd21715966"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a53819d1e25955560b7cb06bd21715966">&#9670;&#160;</a></span>pri_sched()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cotask.TaskList.pri_sched </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Run tasks according to their priorities. </p>
<p>This scheduler runs tasks in a priority based fashion. Each time it is called, it finds the highest priority task which is ready to run and calls that task's <code>run()</code> method. </p>

<p class="definition">Definition at line <a class="el" href="cotask_8py_source.html#l00346">346</a> of file <a class="el" href="cotask_8py_source.html">cotask.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  346</span>    <span class="keyword">def </span>pri_sched(self):</div>
<div class="line"><span class="lineno">  347</span>        <span class="comment"># Go down the list of priorities, beginning with the highest</span></div>
<div class="line"><span class="lineno">  348</span>        <span class="keywordflow">for</span> pri <span class="keywordflow">in</span> self.pri_list:</div>
<div class="line"><span class="lineno">  349</span>            <span class="comment"># Within each priority list, run tasks in round-robin order</span></div>
<div class="line"><span class="lineno">  350</span>            <span class="comment"># Each priority list is [priority, index, task, task, ...] where</span></div>
<div class="line"><span class="lineno">  351</span>            <span class="comment"># index is the index of the next task in the list to be run</span></div>
<div class="line"><span class="lineno">  352</span>            tries = 2</div>
<div class="line"><span class="lineno">  353</span>            length = len(pri)</div>
<div class="line"><span class="lineno">  354</span>            <span class="keywordflow">while</span> tries &lt; length:</div>
<div class="line"><span class="lineno">  355</span>                ran = pri[pri[1]].schedule()</div>
<div class="line"><span class="lineno">  356</span>                tries += 1</div>
<div class="line"><span class="lineno">  357</span>                pri[1] += 1</div>
<div class="line"><span class="lineno">  358</span>                <span class="keywordflow">if</span> pri[1] &gt;= length:</div>
<div class="line"><span class="lineno">  359</span>                    pri[1] = 2</div>
<div class="line"><span class="lineno">  360</span>                <span class="keywordflow">if</span> ran:</div>
<div class="line"><span class="lineno">  361</span>                    <span class="keywordflow">return</span></div>
<div class="line"><span class="lineno">  362</span> </div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="cotask_8py_source.html#l00298">pri_list</a>.</p>

</div>
</div>
<a id="aa048a6b12954d03b8fbf78dff7ace907" name="aa048a6b12954d03b8fbf78dff7ace907"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa048a6b12954d03b8fbf78dff7ace907">&#9670;&#160;</a></span>rr_sched()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cotask.TaskList.rr_sched </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Run tasks in order, ignoring the tasks' priorities. </p>
<p>This scheduling method runs tasks in a round-robin fashion. Each time it is called, it goes through the list of tasks and gives each of them a chance to run. Although this scheduler first runs higher priority tasks first, that has no significant effect in the long run, as all the tasks are given a chance to run each time through the list, and it takes about the same amount of time before each is given a chance to run again. </p>

<p class="definition">Definition at line <a class="el" href="cotask_8py_source.html#l00334">334</a> of file <a class="el" href="cotask_8py_source.html">cotask.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  334</span>    <span class="keyword">def </span>rr_sched(self):</div>
<div class="line"><span class="lineno">  335</span>        <span class="comment"># For each priority level, run all tasks at that level</span></div>
<div class="line"><span class="lineno">  336</span>        <span class="keywordflow">for</span> pri <span class="keywordflow">in</span> self.pri_list:</div>
<div class="line"><span class="lineno">  337</span>            <span class="keywordflow">for</span> task <span class="keywordflow">in</span> pri[2:]:</div>
<div class="line"><span class="lineno">  338</span>                task.schedule()</div>
<div class="line"><span class="lineno">  339</span> </div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="cotask_8py_source.html#l00298">pri_list</a>.</p>

</div>
</div>
<a name="doc-variable-members" id="doc-variable-members"></a><h2 id="header-doc-variable-members" class="groupheader">Member Data Documentation</h2>
<a id="a724ac8246e4b4bf4493d5fce02a8307e" name="a724ac8246e4b4bf4493d5fce02a8307e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a724ac8246e4b4bf4493d5fce02a8307e">&#9670;&#160;</a></span>pri_list</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">list cotask.TaskList.pri_list = []</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The list of priority lists. </p>
<p>Each priority for which at least one task has been created has a list whose first element is a task priority and whose other elements are references to task objects at that priority. </p>

<p class="definition">Definition at line <a class="el" href="cotask_8py_source.html#l00298">298</a> of file <a class="el" href="cotask_8py_source.html">cotask.py</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>Lab Final/Files On Romi/<a class="el" href="cotask_8py_source.html">cotask.py</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a href="namespacecotask.html">cotask</a></li><li class="navelem"><a href="classcotask_1_1_task_list.html">TaskList</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.15.0 </li>
  </ul>
</div>
</body>
</html>
