\doxysection{IMU.\+IMU Class Reference}
\hypertarget{class_i_m_u_1_1_i_m_u}{}\label{class_i_m_u_1_1_i_m_u}\index{IMU.IMU@{IMU.IMU}}
Inheritance diagram for IMU.\+IMU\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{class_i_m_u_1_1_i_m_u}
\end{center}
\end{figure}
\doxysubsubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class \mbox{\hyperlink{class_i_m_u_1_1_i_m_u_1_1reg}{reg}}
\end{DoxyCompactItemize}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_i_m_u_1_1_i_m_u_a4d3c99d26d97ade52feda999b8fc6774}{\+\_\+\+\_\+init\+\_\+\+\_\+}} (self, I2C i2c\+\_\+object, Pin \mbox{\hyperlink{class_i_m_u_1_1_i_m_u_ae79966f9814767d3b896a9d38d487159}{reset\+\_\+pin}})
\item 
\mbox{\hyperlink{class_i_m_u_1_1_i_m_u_a87f4effea9ff9d9719f6af72c29e4736}{reset}} (self)
\item 
float \mbox{\hyperlink{class_i_m_u_1_1_i_m_u_afa673c8e8d1af1635c95e0b88f97a3df}{get\+\_\+data}} (self)
\item 
\mbox{\hyperlink{class_i_m_u_1_1_i_m_u_a1fae52205ccb543d7970d07a84039bf4}{set\+\_\+mode}} (self, int mode)
\item 
tuple \mbox{\hyperlink{class_i_m_u_1_1_i_m_u_a12cc159581e5321d3578d30b00b58545}{get\+\_\+calibration\+\_\+status}} (self)
\item 
tuple \mbox{\hyperlink{class_i_m_u_1_1_i_m_u_a9776efd9662932ca4bf25020856e1388}{get\+\_\+calibration\+\_\+coefficients}} (self)
\item 
bool \mbox{\hyperlink{class_i_m_u_1_1_i_m_u_ab61c540c7fb19e614f4849953d3cce9b}{calibrate}} (self)
\item 
tuple\mbox{[}float, float, float\mbox{]} \mbox{\hyperlink{class_i_m_u_1_1_i_m_u_a6b23b1ea019404b97af99ded7302643a}{get\+\_\+euler\+\_\+angles}} (self)
\item 
float \mbox{\hyperlink{class_i_m_u_1_1_i_m_u_a442b3240c60e395e44a7bdb30716d5da}{get\+\_\+imu\+\_\+heading}} (self)
\item 
float \mbox{\hyperlink{class_i_m_u_1_1_i_m_u_aaee0a7c4f9f8350803f0c74f8920ebb5}{get\+\_\+heading}} (self)
\item 
\mbox{\hyperlink{class_i_m_u_1_1_i_m_u_af50a65e3d6ea165f71b7dbb787a4a813}{zero\+\_\+heading}} (self)
\item 
float \mbox{\hyperlink{class_i_m_u_1_1_i_m_u_af328315b50e7ec6bbb8abf8a4b615a9a}{get\+\_\+yaw\+\_\+rate}} (self)
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions inherited from \mbox{\hyperlink{class_sensor_1_1_sensor}{Sensor.\+Sensor}}}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_sensor_1_1_sensor_abdd7ecd205bec477ec349a8221a86fc9}{set\+\_\+attr}} (cls, K="{}Kp"{}, value=0.\+0)
\item 
None \mbox{\hyperlink{class_sensor_1_1_sensor_ac7ffe148df7b257f7551f29dd392481e}{\+\_\+\+\_\+init\+\_\+\+\_\+}} (self)
\item 
None \mbox{\hyperlink{class_sensor_1_1_sensor_a49cdbda3f5a9c633664e069b976be896}{update\+\_\+dt}} (self)
\item 
None \mbox{\hyperlink{class_sensor_1_1_sensor_affeced0c1599dffadd293a9823ede43e}{reset\+\_\+timing}} (self)
\end{DoxyCompactItemize}
\doxysubsubsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_i_m_u_1_1_i_m_u_a3a2f3227a652d6d58fd5e1c8353e9170}{i2c}} = i2c\+\_\+object
\item 
\mbox{\hyperlink{class_i_m_u_1_1_i_m_u_ae79966f9814767d3b896a9d38d487159}{reset\+\_\+pin}} = reset\+\_\+pin
\item 
bool \mbox{\hyperlink{class_i_m_u_1_1_i_m_u_a63014eeda3ed0cc4591b80809e66cf7a}{calibrated}} = False
\item 
int \mbox{\hyperlink{class_i_m_u_1_1_i_m_u_ababc43f9f8bdf021f155fd0324d48ba5}{convert\+\_\+reg\+\_\+to\+\_\+rad}} = 900
\item 
int \mbox{\hyperlink{class_i_m_u_1_1_i_m_u_ae95535b92360c55599b342e84aa71089}{prev\+\_\+imu\+\_\+heading}} = 0
\item 
int \mbox{\hyperlink{class_i_m_u_1_1_i_m_u_a3e7a28177a9d4a83198f43bdfc05eded}{heading}} = 0
\item 
int \mbox{\hyperlink{class_i_m_u_1_1_i_m_u_abfbd2ee2d2c2fabbcfd47e4b0fb4cfcd}{ar}} = 2 \texorpdfstring{$\ast$}{*} pi
\item 
float \mbox{\hyperlink{class_i_m_u_1_1_i_m_u_abb2c32908d5ae1392831b46460bda0e6}{delta}} = self.\+get\+\_\+imu\+\_\+heading() -\/ self.\+prev\+\_\+imu\+\_\+heading
\end{DoxyCompactItemize}
\doxysubsection*{Public Attributes inherited from \mbox{\hyperlink{class_sensor_1_1_sensor}{Sensor.\+Sensor}}}
\begin{DoxyCompactItemize}
\item 
int \mbox{\hyperlink{class_sensor_1_1_sensor_a6e6d3fb512659ab212a323467c6e0b91}{dt}} = 0
\end{DoxyCompactItemize}
\doxysubsubsection*{Static Public Attributes}
\begin{DoxyCompactItemize}
\item 
int \mbox{\hyperlink{class_i_m_u_1_1_i_m_u_ae089e5b174b451d66017c2db68651108}{DEV\+\_\+\+ADDR}} = 0x28
\item 
int \mbox{\hyperlink{class_i_m_u_1_1_i_m_u_a8fcfad6fc4d6485b39ac764a5151403e}{default\+\_\+mode\+\_\+set}} = 5
\item 
float \mbox{\hyperlink{class_i_m_u_1_1_i_m_u_ad824e5de19468403b24749b8746469cd}{Kp}} = 0.\+15
\item 
float \mbox{\hyperlink{class_i_m_u_1_1_i_m_u_ae11b4e8da620740d5cea923939c8bfbb}{Ki}} = 0.\+20
\item 
float \mbox{\hyperlink{class_i_m_u_1_1_i_m_u_a4f8bc59fa581f67bcc31ad161d1b7f10}{Kd}} = 0.\+00
\end{DoxyCompactItemize}
\doxysubsubsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_i_m_u_1_1_i_m_u_a23a76edd38d3a81b4ea53b25474aa344}{\+\_\+read\+\_\+reg}} (self, tuple \mbox{\hyperlink{class_i_m_u_1_1_i_m_u_1_1reg}{reg}})
\item 
\mbox{\hyperlink{class_i_m_u_1_1_i_m_u_a29d08d955469bde7bd10ac779c65c9d4}{\+\_\+write\+\_\+reg}} (self, tuple \mbox{\hyperlink{class_i_m_u_1_1_i_m_u_1_1reg}{reg}}, str input)
\end{DoxyCompactItemize}
\doxysubsubsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_i_m_u_1_1_i_m_u_a2b54a313dfa2b30267e3ca3b5a125e16}{\+\_\+buf}} = bytearray((0 for \+\_\+ in range(22)))
\end{DoxyCompactItemize}
\doxysubsection*{Protected Attributes inherited from \mbox{\hyperlink{class_sensor_1_1_sensor}{Sensor.\+Sensor}}}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_sensor_1_1_sensor_a9a4bdc6db10214eed5348959dc973d69}{\+\_\+prev\+\_\+t}} = ticks\+\_\+us()
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


Definition at line \mbox{\hyperlink{_i_m_u_8py_source_l00009}{9}} of file \mbox{\hyperlink{_i_m_u_8py_source}{IMU.\+py}}.



\label{doc-constructors}
\Hypertarget{class_i_m_u_1_1_i_m_u_doc-constructors}
\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{class_i_m_u_1_1_i_m_u_a4d3c99d26d97ade52feda999b8fc6774}\index{IMU.IMU@{IMU.IMU}!\_\_init\_\_@{\_\_init\_\_}}
\index{\_\_init\_\_@{\_\_init\_\_}!IMU.IMU@{IMU.IMU}}
\doxysubsubsection{\texorpdfstring{\_\_init\_\_()}{\_\_init\_\_()}}
{\footnotesize\ttfamily \label{class_i_m_u_1_1_i_m_u_a4d3c99d26d97ade52feda999b8fc6774} 
IMU.\+IMU.\+\_\+\+\_\+init\+\_\+\+\_\+ (\begin{DoxyParamCaption}\item[{}]{self}{, }\item[{I2C}]{i2c\+\_\+object}{, }\item[{Pin}]{reset\+\_\+pin}{}\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{_i_m_u_8py_source_l00056}{56}} of file \mbox{\hyperlink{_i_m_u_8py_source}{IMU.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00056\ \ \ \ \ \textcolor{keyword}{def\ }\_\_init\_\_(self,\ i2c\_object:\ I2C,\ reset\_pin:\ Pin): }
\DoxyCodeLine{00057\ \ \ \ \ \ \ \ \ super().\_\_init\_\_() }
\DoxyCodeLine{00058\ \ \ \ \ \ \ \ \ self.i2c\ =\ i2c\_object\ \ \textcolor{comment}{\#\ the\ pyb\ board\ is\ the\ controller,\ meaning\ the\ IMU\ is\ the\ peripheral }}
\DoxyCodeLine{00059\ \ \ \ \ \ \ \ \ self.reset\_pin\ =\ reset\_pin }
\DoxyCodeLine{00060\ \ \ \ \ \ \ \ \ self.\_buf\ =\ bytearray((0\ \textcolor{keywordflow}{for}\ \_\ \textcolor{keywordflow}{in}\ range(22)))\ \ \textcolor{comment}{\#\ buffer\ for\ unpacking.\ Each\ element\ is\ a\ byte }}
\DoxyCodeLine{00061\ \ \ \ \ \ \ \ \ self.calibrated\ =\ \textcolor{keyword}{False} }
\DoxyCodeLine{00062\ \ \ \ \ \ \ \ \ self.convert\_reg\_to\_rad\ =\ 900 }
\DoxyCodeLine{00063\ \ \ \ \ \ \ \ \ self.prev\_imu\_heading\ =\ 0 }
\DoxyCodeLine{00064\ \ \ \ \ \ \ \ \ self.heading\ =\ 0 }
\DoxyCodeLine{00065\ \ \ \ \ \ \ \ \ self.ar\ =\ 2\ *\ pi }
\DoxyCodeLine{00066\ \ \ \ \ \ \ \ \ self.reset() }
\DoxyCodeLine{00067\  }

\end{DoxyCode}


References \mbox{\hyperlink{_i_m_u_8py_source_l00056}{\+\_\+\+\_\+init\+\_\+\+\_\+()}}.



\label{doc-func-members}
\Hypertarget{class_i_m_u_1_1_i_m_u_doc-func-members}
\doxysubsection{Member Function Documentation}
\Hypertarget{class_i_m_u_1_1_i_m_u_a23a76edd38d3a81b4ea53b25474aa344}\index{IMU.IMU@{IMU.IMU}!\_read\_reg@{\_read\_reg}}
\index{\_read\_reg@{\_read\_reg}!IMU.IMU@{IMU.IMU}}
\doxysubsubsection{\texorpdfstring{\_read\_reg()}{\_read\_reg()}}
{\footnotesize\ttfamily \label{class_i_m_u_1_1_i_m_u_a23a76edd38d3a81b4ea53b25474aa344} 
IMU.\+IMU.\+\_\+read\+\_\+reg (\begin{DoxyParamCaption}\item[{}]{self}{, }\item[{tuple}]{reg}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line \mbox{\hyperlink{_i_m_u_8py_source_l00081}{81}} of file \mbox{\hyperlink{_i_m_u_8py_source}{IMU.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00081\ \ \ \ \ \textcolor{keyword}{def\ }\_read\_reg(self,\ reg:\ tuple): }
\DoxyCodeLine{00082\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ determine\ number\ of\ bytes\ from\ reg\ read\ code }}
\DoxyCodeLine{00083\ \ \ \ \ \ \ \ \ length\ =\ calcsize(reg[1]) }
\DoxyCodeLine{00084\  }
\DoxyCodeLine{00085\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Create\ a\ memoryview\ object\ of\ the\ right\ size }}
\DoxyCodeLine{00086\ \ \ \ \ \ \ \ \ buf\ =\ memoryview(self.\_buf)[:length] }
\DoxyCodeLine{00087\  }
\DoxyCodeLine{00088\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Read\ the\ the\ I2C\ bytes\ into\ memoryview }}
\DoxyCodeLine{00089\ \ \ \ \ \ \ \ \ self.i2c.mem\_read(buf,\ self.DEV\_ADDR,\ reg[0]) }
\DoxyCodeLine{00090\  }
\DoxyCodeLine{00091\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ unpack\_from(reg[1],\ buf) }
\DoxyCodeLine{00092\  }

\end{DoxyCode}


References \mbox{\hyperlink{_i_m_u_8py_source_l00060}{\+\_\+buf}}, \mbox{\hyperlink{_i_m_u_8py_source_l00011}{DEV\+\_\+\+ADDR}}, and \mbox{\hyperlink{_i_m_u_8py_source_l00058}{i2c}}.

\Hypertarget{class_i_m_u_1_1_i_m_u_a29d08d955469bde7bd10ac779c65c9d4}\index{IMU.IMU@{IMU.IMU}!\_write\_reg@{\_write\_reg}}
\index{\_write\_reg@{\_write\_reg}!IMU.IMU@{IMU.IMU}}
\doxysubsubsection{\texorpdfstring{\_write\_reg()}{\_write\_reg()}}
{\footnotesize\ttfamily \label{class_i_m_u_1_1_i_m_u_a29d08d955469bde7bd10ac779c65c9d4} 
IMU.\+IMU.\+\_\+write\+\_\+reg (\begin{DoxyParamCaption}\item[{}]{self}{, }\item[{tuple}]{reg}{, }\item[{str}]{input}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line \mbox{\hyperlink{_i_m_u_8py_source_l00093}{93}} of file \mbox{\hyperlink{_i_m_u_8py_source}{IMU.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00093\ \ \ \ \ \textcolor{keyword}{def\ }\_write\_reg(self,\ reg:\ tuple,\ input:\ str): }
\DoxyCodeLine{00094\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Writes\ a\ string\ input\ to\ the\ IMU:\ ie\ input\ =\ '01110xxx' }}
\DoxyCodeLine{00095\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ This\ write\ functionality\ can\ work\ on\ 8\ or\ 16\ bits }}
\DoxyCodeLine{00096\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ ASSUMED\ THAT\ CONFIGMODE\ IS\ SET\ APPROPRIATELY\ BEFORE\ CALLING\ THIS\ FUNCTION }}
\DoxyCodeLine{00097\  }
\DoxyCodeLine{00098\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ determine\ number\ of\ bytes\ in\ register\ location }}
\DoxyCodeLine{00099\ \ \ \ \ \ \ \ \ length\ =\ calcsize(reg[1]) }
\DoxyCodeLine{00100\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ length\ >\ 2\ \textcolor{keywordflow}{or}\ len(input)\ //\ 8\ !=\ length: }
\DoxyCodeLine{00101\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ ValueError(\textcolor{stringliteral}{"{}Write\ to\ register\ is\ not\ the\ correct\ length"{}}) }
\DoxyCodeLine{00102\  }
\DoxyCodeLine{00103\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Create\ and\ mask\ and\ or\ mask }}
\DoxyCodeLine{00104\ \ \ \ \ \ \ \ \ and\_mask\ =\ 0b1111\_1111\ \textcolor{keywordflow}{if}\ length\ ==\ 1\ \textcolor{keywordflow}{else}\ 0b1111\_1111\_1111\_1111 }
\DoxyCodeLine{00105\ \ \ \ \ \ \ \ \ or\_mask\ =\ 0b0000\_0000\ \textcolor{keywordflow}{if}\ length\ ==\ 1\ \textcolor{keywordflow}{else}\ 0b0000\_0000\_0000\_0000 }
\DoxyCodeLine{00106\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ char\_index\ \textcolor{keywordflow}{in}\ range(len(input)): }
\DoxyCodeLine{00107\ \ \ \ \ \ \ \ \ \ \ \ \ char\ =\ input[-\/char\_index\ -\/\ 1] }
\DoxyCodeLine{00108\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ char\ ==\ \textcolor{stringliteral}{"{}x"{}}\ \textcolor{keywordflow}{or}\ char\ ==\ \textcolor{stringliteral}{"{}X"{}}: }
\DoxyCodeLine{00109\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue}\ \ \textcolor{comment}{\#\ and\ mask\ is\ already\ set,\ or\ mask\ is\ already\ cleared }}
\DoxyCodeLine{00110\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ char\ ==\ \textcolor{stringliteral}{"{}0"{}}: }
\DoxyCodeLine{00111\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ and\_mask\ \&=\ \string~(1\ <<\ (char\_index))\ \ \textcolor{comment}{\#\ clear\ the\ and\ bit }}
\DoxyCodeLine{00112\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ char\ ==\ \textcolor{stringliteral}{"{}1"{}}: }
\DoxyCodeLine{00113\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ and\_mask\ \&=\ \string~(1\ <<\ (char\_index))\ \ \textcolor{comment}{\#\ clear\ the\ and\ bit }}
\DoxyCodeLine{00114\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ or\_mask\ |=\ 1\ <<\ (char\_index)\ \ \textcolor{comment}{\#\ set\ the\ or\ bit }}
\DoxyCodeLine{00115\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}: }
\DoxyCodeLine{00116\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ ValueError(\textcolor{stringliteral}{"{}mask\ chars\ must\ be\ '0','1','x',\ or\ 'X'"{}}) }
\DoxyCodeLine{00117\  }
\DoxyCodeLine{00118\ \ \ \ \ \ \ \ \ self.i2c.mem\_write( }
\DoxyCodeLine{00119\ \ \ \ \ \ \ \ \ \ \ \ \ ((self.\_read\_reg(reg)[0]\ \&\ and\_mask)\ |\ or\_mask), }
\DoxyCodeLine{00120\ \ \ \ \ \ \ \ \ \ \ \ \ self.DEV\_ADDR, }
\DoxyCodeLine{00121\ \ \ \ \ \ \ \ \ \ \ \ \ reg[0], }
\DoxyCodeLine{00122\ \ \ \ \ \ \ \ \ \ \ \ \ addr\_size=(8\ \textcolor{keywordflow}{if}\ length\ ==\ 1\ \textcolor{keywordflow}{else}\ 16), }
\DoxyCodeLine{00123\ \ \ \ \ \ \ \ \ ) }
\DoxyCodeLine{00124\  }

\end{DoxyCode}


References \mbox{\hyperlink{_i_m_u_8py_source_l00081}{\+\_\+read\+\_\+reg()}}, \mbox{\hyperlink{_i_m_u_8py_source_l00011}{DEV\+\_\+\+ADDR}}, and \mbox{\hyperlink{_i_m_u_8py_source_l00058}{i2c}}.

\Hypertarget{class_i_m_u_1_1_i_m_u_ab61c540c7fb19e614f4849953d3cce9b}\index{IMU.IMU@{IMU.IMU}!calibrate@{calibrate}}
\index{calibrate@{calibrate}!IMU.IMU@{IMU.IMU}}
\doxysubsubsection{\texorpdfstring{calibrate()}{calibrate()}}
{\footnotesize\ttfamily \label{class_i_m_u_1_1_i_m_u_ab61c540c7fb19e614f4849953d3cce9b} 
 bool IMU.\+IMU.\+calibrate (\begin{DoxyParamCaption}\item[{}]{self}{}\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{_i_m_u_8py_source_l00151}{151}} of file \mbox{\hyperlink{_i_m_u_8py_source}{IMU.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00151\ \ \ \ \ \textcolor{keyword}{def\ }calibrate(self)\ -\/>\ bool: }
\DoxyCodeLine{00152\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{stringliteral}{"{}IMU\_cal.txt"{}}\ \textcolor{keywordflow}{in}\ listdir(): }
\DoxyCodeLine{00153\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Calibration\ data\ is\ present }}
\DoxyCodeLine{00154\ \ \ \ \ \ \ \ \ \ \ \ \ self.set\_mode(0) }
\DoxyCodeLine{00155\ \ \ \ \ \ \ \ \ \ \ \ \ print(\textcolor{stringliteral}{"{}Found\ IMU\ calibration\ data,\ skipping\ calibration"{}}) }
\DoxyCodeLine{00156\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{with}\ open(\textcolor{stringliteral}{"{}IMU\_cal.txt"{}},\ \textcolor{stringliteral}{"{}r"{}})\ \textcolor{keyword}{as}\ file: }
\DoxyCodeLine{00157\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ entries\ =\ file.readline().strip().split(\textcolor{stringliteral}{"{},"{}}) }
\DoxyCodeLine{00158\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ len(entries)\ !=\ 11: }
\DoxyCodeLine{00159\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ ValueError(\textcolor{stringliteral}{"{}Calibration\ data\ length\ !=\ expected\ length"{}}) }
\DoxyCodeLine{00160\  }
\DoxyCodeLine{00161\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ idx,\ coeff\_reg\ \textcolor{keywordflow}{in}\ enumerate(IMU.reg.calibration\_coefficients): }
\DoxyCodeLine{00162\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_write\_reg(coeff\_reg,\ entries[idx]) }
\DoxyCodeLine{00163\  }
\DoxyCodeLine{00164\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.calibrated\ =\ \textcolor{keyword}{True} }
\DoxyCodeLine{00165\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.set\_mode(IMU.default\_mode\_set) }
\DoxyCodeLine{00166\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{True} }
\DoxyCodeLine{00167\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}: }
\DoxyCodeLine{00168\ \ \ \ \ \ \ \ \ \ \ \ \ print(\textcolor{stringliteral}{"{}No\ IMU\ calibration\ data\ found"{}}) }
\DoxyCodeLine{00169\ \ \ \ \ \ \ \ \ \ \ \ \ self.set\_mode(5)\ \ \textcolor{comment}{\#\ set\ to\ NDOF\ mode\ for\ calibration }}
\DoxyCodeLine{00170\  }
\DoxyCodeLine{00171\ \ \ \ \ \ \ \ \ \ \ \ \ prev\_cal\ =\ cur\_cal\ =\ 0 }
\DoxyCodeLine{00172\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ \textcolor{keywordflow}{not}\ (cur\_cal\ \&\ 0b0011\_0011\ ==\ 0b0011\_0011):\ \ \textcolor{comment}{\#\ only\ check\ GYR\ and\ MAG\ calibration }}
\DoxyCodeLine{00173\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ prev\_cal\ !=\ cur\_cal: }
\DoxyCodeLine{00174\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ print(f\textcolor{stringliteral}{"{}\{cur\_cal:08b\}"{}}) }
\DoxyCodeLine{00175\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ prev\_cal\ =\ cur\_cal }
\DoxyCodeLine{00176\  }
\DoxyCodeLine{00177\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ cur\_cal\ =\ self.get\_calibration\_status()[0]\ \ \textcolor{comment}{\#\ Update\ cur\_cal\ before\ checking }}
\DoxyCodeLine{00178\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ cur\_cal\ \&\ 0b0011\_0011\ ==\ 0b0011\_0011: }
\DoxyCodeLine{00179\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.set\_mode(0) }
\DoxyCodeLine{00180\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{with}\ open(\textcolor{stringliteral}{"{}IMU\_cal.txt"{}},\ \textcolor{stringliteral}{"{}w"{}})\ \textcolor{keyword}{as}\ f: }
\DoxyCodeLine{00181\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ coefs\ =\ \textcolor{stringliteral}{"{},"{}}.join(f\textcolor{stringliteral}{"{}\{s\ \&\ 0xFFFF:016b\}"{}}\ \textcolor{keywordflow}{for}\ s\ \textcolor{keywordflow}{in}\ self.get\_calibration\_coefficients()) }
\DoxyCodeLine{00182\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ f.write(f\textcolor{stringliteral}{"{}\{coefs\}\(\backslash\)n"{}}) }
\DoxyCodeLine{00183\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ print(f\textcolor{stringliteral}{"{}\{coefs\}"{}}) }
\DoxyCodeLine{00184\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ print(\textcolor{stringliteral}{"{}IMU\ Calibration\ Coefficients\ Saved"{}}) }
\DoxyCodeLine{00185\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.calibrated\ =\ \textcolor{keyword}{True} }
\DoxyCodeLine{00186\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.set\_mode(IMU.default\_mode\_set) }
\DoxyCodeLine{00187\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{True} }
\DoxyCodeLine{00188\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ delay(100)\ \ \textcolor{comment}{\#\ delay(ms)\ to\ allow\ IMU\ to\ settle }}
\DoxyCodeLine{00189\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{False} }
\DoxyCodeLine{00190\  }

\end{DoxyCode}


References \mbox{\hyperlink{_i_m_u_8py_source_l00093}{\+\_\+write\+\_\+reg()}}, \mbox{\hyperlink{_i_m_u_8py_source_l00061}{calibrated}}, \mbox{\hyperlink{_i_m_u_8py_source_l00148}{get\+\_\+calibration\+\_\+coefficients()}}, \mbox{\hyperlink{_i_m_u_8py_source_l00145}{get\+\_\+calibration\+\_\+status()}}, and \mbox{\hyperlink{_i_m_u_8py_source_l00129}{set\+\_\+mode()}}.

\Hypertarget{class_i_m_u_1_1_i_m_u_a9776efd9662932ca4bf25020856e1388}\index{IMU.IMU@{IMU.IMU}!get\_calibration\_coefficients@{get\_calibration\_coefficients}}
\index{get\_calibration\_coefficients@{get\_calibration\_coefficients}!IMU.IMU@{IMU.IMU}}
\doxysubsubsection{\texorpdfstring{get\_calibration\_coefficients()}{get\_calibration\_coefficients()}}
{\footnotesize\ttfamily \label{class_i_m_u_1_1_i_m_u_a9776efd9662932ca4bf25020856e1388} 
 tuple IMU.\+IMU.\+get\+\_\+calibration\+\_\+coefficients (\begin{DoxyParamCaption}\item[{}]{self}{}\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{_i_m_u_8py_source_l00148}{148}} of file \mbox{\hyperlink{_i_m_u_8py_source}{IMU.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00148\ \ \ \ \ \textcolor{keyword}{def\ }get\_calibration\_coefficients(self)\ -\/>\ tuple: }
\DoxyCodeLine{00149\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ tuple(self.\_read\_reg(coeff\_reg)[0]\ \textcolor{keywordflow}{for}\ coeff\_reg\ \textcolor{keywordflow}{in}\ IMU.reg.calibration\_coefficients) }
\DoxyCodeLine{00150\  }

\end{DoxyCode}


References \mbox{\hyperlink{_i_m_u_8py_source_l00081}{\+\_\+read\+\_\+reg()}}.

\Hypertarget{class_i_m_u_1_1_i_m_u_a12cc159581e5321d3578d30b00b58545}\index{IMU.IMU@{IMU.IMU}!get\_calibration\_status@{get\_calibration\_status}}
\index{get\_calibration\_status@{get\_calibration\_status}!IMU.IMU@{IMU.IMU}}
\doxysubsubsection{\texorpdfstring{get\_calibration\_status()}{get\_calibration\_status()}}
{\footnotesize\ttfamily \label{class_i_m_u_1_1_i_m_u_a12cc159581e5321d3578d30b00b58545} 
 tuple IMU.\+IMU.\+get\+\_\+calibration\+\_\+status (\begin{DoxyParamCaption}\item[{}]{self}{}\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{_i_m_u_8py_source_l00145}{145}} of file \mbox{\hyperlink{_i_m_u_8py_source}{IMU.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00145\ \ \ \ \ \textcolor{keyword}{def\ }get\_calibration\_status(self)\ -\/>\ tuple: }
\DoxyCodeLine{00146\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ self.\_read\_reg(IMU.reg.CALIB\_STAT) }
\DoxyCodeLine{00147\  }

\end{DoxyCode}


References \mbox{\hyperlink{_i_m_u_8py_source_l00081}{\+\_\+read\+\_\+reg()}}.

\Hypertarget{class_i_m_u_1_1_i_m_u_afa673c8e8d1af1635c95e0b88f97a3df}\index{IMU.IMU@{IMU.IMU}!get\_data@{get\_data}}
\index{get\_data@{get\_data}!IMU.IMU@{IMU.IMU}}
\doxysubsubsection{\texorpdfstring{get\_data()}{get\_data()}}
{\footnotesize\ttfamily \label{class_i_m_u_1_1_i_m_u_afa673c8e8d1af1635c95e0b88f97a3df} 
 float IMU.\+IMU.\+get\+\_\+data (\begin{DoxyParamCaption}\item[{}]{self}{}\end{DoxyParamCaption})}



Reimplemented from \mbox{\hyperlink{class_sensor_1_1_sensor_add8d874d2c517212fec197b36d089c31}{Sensor.\+Sensor}}.



Definition at line \mbox{\hyperlink{_i_m_u_8py_source_l00078}{78}} of file \mbox{\hyperlink{_i_m_u_8py_source}{IMU.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00078\ \ \ \ \ \textcolor{keyword}{def\ }get\_data(self)\ -\/>\ float: }
\DoxyCodeLine{00079\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ self.get\_heading() }
\DoxyCodeLine{00080\  }

\end{DoxyCode}


References \mbox{\hyperlink{_i_m_u_8py_source_l00198}{get\+\_\+heading()}}.

\Hypertarget{class_i_m_u_1_1_i_m_u_a6b23b1ea019404b97af99ded7302643a}\index{IMU.IMU@{IMU.IMU}!get\_euler\_angles@{get\_euler\_angles}}
\index{get\_euler\_angles@{get\_euler\_angles}!IMU.IMU@{IMU.IMU}}
\doxysubsubsection{\texorpdfstring{get\_euler\_angles()}{get\_euler\_angles()}}
{\footnotesize\ttfamily \label{class_i_m_u_1_1_i_m_u_a6b23b1ea019404b97af99ded7302643a} 
 tuple\mbox{[}float, float, float\mbox{]} IMU.\+IMU.\+get\+\_\+euler\+\_\+angles (\begin{DoxyParamCaption}\item[{}]{self}{}\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{_i_m_u_8py_source_l00191}{191}} of file \mbox{\hyperlink{_i_m_u_8py_source}{IMU.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00191\ \ \ \ \ \textcolor{keyword}{def\ }get\_euler\_angles(self)\ -\/>\ tuple[float,\ float,\ float]: }
\DoxyCodeLine{00192\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ order:\ head,\ rolled,\ pitched }}
\DoxyCodeLine{00193\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ tuple(x\ /\ -\/self.convert\_reg\_to\_rad\ \textcolor{keywordflow}{for}\ x\ \textcolor{keywordflow}{in}\ self.\_read\_reg(IMU.reg.EUL\_DATA\_ALL)) }
\DoxyCodeLine{00194\  }

\end{DoxyCode}


References \mbox{\hyperlink{_i_m_u_8py_source_l00081}{\+\_\+read\+\_\+reg()}}, and \mbox{\hyperlink{_i_m_u_8py_source_l00062}{convert\+\_\+reg\+\_\+to\+\_\+rad}}.

\Hypertarget{class_i_m_u_1_1_i_m_u_aaee0a7c4f9f8350803f0c74f8920ebb5}\index{IMU.IMU@{IMU.IMU}!get\_heading@{get\_heading}}
\index{get\_heading@{get\_heading}!IMU.IMU@{IMU.IMU}}
\doxysubsubsection{\texorpdfstring{get\_heading()}{get\_heading()}}
{\footnotesize\ttfamily \label{class_i_m_u_1_1_i_m_u_aaee0a7c4f9f8350803f0c74f8920ebb5} 
 float IMU.\+IMU.\+get\+\_\+heading (\begin{DoxyParamCaption}\item[{}]{self}{}\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{_i_m_u_8py_source_l00198}{198}} of file \mbox{\hyperlink{_i_m_u_8py_source}{IMU.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00198\ \ \ \ \ \textcolor{keyword}{def\ }get\_heading(self)\ -\/>\ float: }
\DoxyCodeLine{00199\ \ \ \ \ \ \ \ \ self.delta\ =\ self.get\_imu\_heading()\ -\/\ self.prev\_imu\_heading }
\DoxyCodeLine{00200\ \ \ \ \ \ \ \ \ self.prev\_imu\_heading\ =\ self.get\_imu\_heading() }
\DoxyCodeLine{00201\  }
\DoxyCodeLine{00202\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Overflow }}
\DoxyCodeLine{00203\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.delta\ <\ -\/self.ar\ /\ 2: }
\DoxyCodeLine{00204\ \ \ \ \ \ \ \ \ \ \ \ \ self.delta\ +=\ self.ar }
\DoxyCodeLine{00205\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Underflow }}
\DoxyCodeLine{00206\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ self.delta\ >\ self.ar\ /\ 2: }
\DoxyCodeLine{00207\ \ \ \ \ \ \ \ \ \ \ \ \ self.delta\ -\/=\ self.ar }
\DoxyCodeLine{00208\  }
\DoxyCodeLine{00209\ \ \ \ \ \ \ \ \ self.heading\ +=\ self.delta }
\DoxyCodeLine{00210\  }
\DoxyCodeLine{00211\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ self.heading }
\DoxyCodeLine{00212\  }

\end{DoxyCode}
\Hypertarget{class_i_m_u_1_1_i_m_u_a442b3240c60e395e44a7bdb30716d5da}\index{IMU.IMU@{IMU.IMU}!get\_imu\_heading@{get\_imu\_heading}}
\index{get\_imu\_heading@{get\_imu\_heading}!IMU.IMU@{IMU.IMU}}
\doxysubsubsection{\texorpdfstring{get\_imu\_heading()}{get\_imu\_heading()}}
{\footnotesize\ttfamily \label{class_i_m_u_1_1_i_m_u_a442b3240c60e395e44a7bdb30716d5da} 
 float IMU.\+IMU.\+get\+\_\+imu\+\_\+heading (\begin{DoxyParamCaption}\item[{}]{self}{}\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{_i_m_u_8py_source_l00195}{195}} of file \mbox{\hyperlink{_i_m_u_8py_source}{IMU.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00195\ \ \ \ \ \textcolor{keyword}{def\ }get\_imu\_heading(self)\ -\/>\ float: }
\DoxyCodeLine{00196\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ -\/self.\_read\_reg(IMU.reg.EUL\_HEADING)[0]\ /\ self.convert\_reg\_to\_rad }
\DoxyCodeLine{00197\  }

\end{DoxyCode}


References \mbox{\hyperlink{_i_m_u_8py_source_l00081}{\+\_\+read\+\_\+reg()}}, and \mbox{\hyperlink{_i_m_u_8py_source_l00062}{convert\+\_\+reg\+\_\+to\+\_\+rad}}.

\Hypertarget{class_i_m_u_1_1_i_m_u_af328315b50e7ec6bbb8abf8a4b615a9a}\index{IMU.IMU@{IMU.IMU}!get\_yaw\_rate@{get\_yaw\_rate}}
\index{get\_yaw\_rate@{get\_yaw\_rate}!IMU.IMU@{IMU.IMU}}
\doxysubsubsection{\texorpdfstring{get\_yaw\_rate()}{get\_yaw\_rate()}}
{\footnotesize\ttfamily \label{class_i_m_u_1_1_i_m_u_af328315b50e7ec6bbb8abf8a4b615a9a} 
 float IMU.\+IMU.\+get\+\_\+yaw\+\_\+rate (\begin{DoxyParamCaption}\item[{}]{self}{}\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{_i_m_u_8py_source_l00218}{218}} of file \mbox{\hyperlink{_i_m_u_8py_source}{IMU.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00218\ \ \ \ \ \textcolor{keyword}{def\ }get\_yaw\_rate(self)\ -\/>\ float: }
\DoxyCodeLine{00219\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ self.\_read\_reg(IMU.reg.GYRO\_DATA\_Z)[0]\ /\ self.convert\_reg\_to\_rad }

\end{DoxyCode}


References \mbox{\hyperlink{_i_m_u_8py_source_l00081}{\+\_\+read\+\_\+reg()}}, and \mbox{\hyperlink{_i_m_u_8py_source_l00062}{convert\+\_\+reg\+\_\+to\+\_\+rad}}.

\Hypertarget{class_i_m_u_1_1_i_m_u_a87f4effea9ff9d9719f6af72c29e4736}\index{IMU.IMU@{IMU.IMU}!reset@{reset}}
\index{reset@{reset}!IMU.IMU@{IMU.IMU}}
\doxysubsubsection{\texorpdfstring{reset()}{reset()}}
{\footnotesize\ttfamily \label{class_i_m_u_1_1_i_m_u_a87f4effea9ff9d9719f6af72c29e4736} 
IMU.\+IMU.\+reset (\begin{DoxyParamCaption}\item[{}]{self}{}\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{_i_m_u_8py_source_l00068}{68}} of file \mbox{\hyperlink{_i_m_u_8py_source}{IMU.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00068\ \ \ \ \ \textcolor{keyword}{def\ }reset(self): }
\DoxyCodeLine{00069\ \ \ \ \ \ \ \ \ self.reset\_pin.value(0) }
\DoxyCodeLine{00070\ \ \ \ \ \ \ \ \ self.reset\_pin.value(1) }
\DoxyCodeLine{00071\ \ \ \ \ \ \ \ \ delay(700)\ \ \textcolor{comment}{\#\ delay(ms)\ to\ allow\ IMU\ to\ reset }}
\DoxyCodeLine{00072\  }
\DoxyCodeLine{00073\ \ \ \ \ \ \ \ \ self.\_write\_reg(IMU.reg.AXIS\_REMAP\_CONFIG,\ \textcolor{stringliteral}{"{}00100001"{}})\ \ \textcolor{comment}{\#\ P3 }}
\DoxyCodeLine{00074\ \ \ \ \ \ \ \ \ self.\_write\_reg(IMU.reg.AXIS\_REMAP\_SIGN,\ \textcolor{stringliteral}{"{}xxxxxx10"{}}) }
\DoxyCodeLine{00075\ \ \ \ \ \ \ \ \ self.\_write\_reg(IMU.reg.UNIT\_SEL,\ \textcolor{stringliteral}{"{}xxx1x110"{}})\ \ \textcolor{comment}{\#\ degF,\ rads,\ rad/s,\ m/s\string^2 }}
\DoxyCodeLine{00076\  }

\end{DoxyCode}


References \mbox{\hyperlink{_i_m_u_8py_source_l00093}{\+\_\+write\+\_\+reg()}}, and \mbox{\hyperlink{_i_m_u_8py_source_l00059}{reset\+\_\+pin}}.

\Hypertarget{class_i_m_u_1_1_i_m_u_a1fae52205ccb543d7970d07a84039bf4}\index{IMU.IMU@{IMU.IMU}!set\_mode@{set\_mode}}
\index{set\_mode@{set\_mode}!IMU.IMU@{IMU.IMU}}
\doxysubsubsection{\texorpdfstring{set\_mode()}{set\_mode()}}
{\footnotesize\ttfamily \label{class_i_m_u_1_1_i_m_u_a1fae52205ccb543d7970d07a84039bf4} 
IMU.\+IMU.\+set\+\_\+mode (\begin{DoxyParamCaption}\item[{}]{self}{, }\item[{int}]{mode}{}\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{_i_m_u_8py_source_l00129}{129}} of file \mbox{\hyperlink{_i_m_u_8py_source}{IMU.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00129\ \ \ \ \ \textcolor{keyword}{def\ }set\_mode(self,\ mode:\ int): }
\DoxyCodeLine{00130\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ mode\ ==\ 0: }
\DoxyCodeLine{00131\ \ \ \ \ \ \ \ \ \ \ \ \ self.\_write\_reg(IMU.reg.OPR\_MODE,\ \textcolor{stringliteral}{"{}xxxx0000"{}})\ \ \textcolor{comment}{\#\ 0:\ CONFIGMODE }}
\DoxyCodeLine{00132\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ mode\ ==\ 1: }
\DoxyCodeLine{00133\ \ \ \ \ \ \ \ \ \ \ \ \ self.\_write\_reg(IMU.reg.OPR\_MODE,\ \textcolor{stringliteral}{"{}xxxx1000"{}})\ \ \textcolor{comment}{\#\ 1:\ IMU }}
\DoxyCodeLine{00134\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ mode\ ==\ 2: }
\DoxyCodeLine{00135\ \ \ \ \ \ \ \ \ \ \ \ \ self.\_write\_reg(IMU.reg.OPR\_MODE,\ \textcolor{stringliteral}{"{}xxxx1001"{}})\ \ \textcolor{comment}{\#\ 2:\ COMPASS }}
\DoxyCodeLine{00136\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ mode\ ==\ 3: }
\DoxyCodeLine{00137\ \ \ \ \ \ \ \ \ \ \ \ \ self.\_write\_reg(IMU.reg.OPR\_MODE,\ \textcolor{stringliteral}{"{}xxxx1010"{}})\ \ \textcolor{comment}{\#\ 3:\ M4G }}
\DoxyCodeLine{00138\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ mode\ ==\ 4: }
\DoxyCodeLine{00139\ \ \ \ \ \ \ \ \ \ \ \ \ self.\_write\_reg(IMU.reg.OPR\_MODE,\ \textcolor{stringliteral}{"{}xxxx1011"{}})\ \ \textcolor{comment}{\#\ 4:\ NDOF\_FMC\_OFF }}
\DoxyCodeLine{00140\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{elif}\ mode\ ==\ 5: }
\DoxyCodeLine{00141\ \ \ \ \ \ \ \ \ \ \ \ \ self.\_write\_reg(IMU.reg.OPR\_MODE,\ \textcolor{stringliteral}{"{}xxxx1100"{}})\ \ \textcolor{comment}{\#\ 5:\ NDOF }}
\DoxyCodeLine{00142\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}: }
\DoxyCodeLine{00143\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ ValueError(\textcolor{stringliteral}{"{}Invalid\ mode"{}}) }
\DoxyCodeLine{00144\  }

\end{DoxyCode}


References \mbox{\hyperlink{_i_m_u_8py_source_l00093}{\+\_\+write\+\_\+reg()}}.

\Hypertarget{class_i_m_u_1_1_i_m_u_af50a65e3d6ea165f71b7dbb787a4a813}\index{IMU.IMU@{IMU.IMU}!zero\_heading@{zero\_heading}}
\index{zero\_heading@{zero\_heading}!IMU.IMU@{IMU.IMU}}
\doxysubsubsection{\texorpdfstring{zero\_heading()}{zero\_heading()}}
{\footnotesize\ttfamily \label{class_i_m_u_1_1_i_m_u_af50a65e3d6ea165f71b7dbb787a4a813} 
IMU.\+IMU.\+zero\+\_\+heading (\begin{DoxyParamCaption}\item[{}]{self}{}\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{_i_m_u_8py_source_l00213}{213}} of file \mbox{\hyperlink{_i_m_u_8py_source}{IMU.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00213\ \ \ \ \ \textcolor{keyword}{def\ }zero\_heading(self): }
\DoxyCodeLine{00214\ \ \ \ \ \ \ \ \ self.heading\ =\ 0 }
\DoxyCodeLine{00215\ \ \ \ \ \ \ \ \ self.prev\_imu\_heading\ =\ self.get\_imu\_heading() }
\DoxyCodeLine{00216\ \ \ \ \ \ \ \ \ self.delta\ =\ 0 }
\DoxyCodeLine{00217\  }

\end{DoxyCode}


References \mbox{\hyperlink{_encoder_8py_source_l00055}{Encoder.\+Encoder.\+delta}}, \mbox{\hyperlink{_i_m_u_8py_source_l00199}{delta}}, \mbox{\hyperlink{_i_m_u_8py_source_l00195}{get\+\_\+imu\+\_\+heading()}}, \mbox{\hyperlink{_i_m_u_8py_source_l00064}{heading}}, and \mbox{\hyperlink{_i_m_u_8py_source_l00063}{prev\+\_\+imu\+\_\+heading}}.



\label{doc-variable-members}
\Hypertarget{class_i_m_u_1_1_i_m_u_doc-variable-members}
\doxysubsection{Member Data Documentation}
\Hypertarget{class_i_m_u_1_1_i_m_u_a2b54a313dfa2b30267e3ca3b5a125e16}\index{IMU.IMU@{IMU.IMU}!\_buf@{\_buf}}
\index{\_buf@{\_buf}!IMU.IMU@{IMU.IMU}}
\doxysubsubsection{\texorpdfstring{\_buf}{\_buf}}
{\footnotesize\ttfamily \label{class_i_m_u_1_1_i_m_u_a2b54a313dfa2b30267e3ca3b5a125e16} 
IMU.\+IMU.\+\_\+buf = bytearray((0 for \+\_\+ in range(22)))\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line \mbox{\hyperlink{_i_m_u_8py_source_l00060}{60}} of file \mbox{\hyperlink{_i_m_u_8py_source}{IMU.\+py}}.

\Hypertarget{class_i_m_u_1_1_i_m_u_abfbd2ee2d2c2fabbcfd47e4b0fb4cfcd}\index{IMU.IMU@{IMU.IMU}!ar@{ar}}
\index{ar@{ar}!IMU.IMU@{IMU.IMU}}
\doxysubsubsection{\texorpdfstring{ar}{ar}}
{\footnotesize\ttfamily \label{class_i_m_u_1_1_i_m_u_abfbd2ee2d2c2fabbcfd47e4b0fb4cfcd} 
int IMU.\+IMU.\+ar = 2 \texorpdfstring{$\ast$}{*} pi}



Definition at line \mbox{\hyperlink{_i_m_u_8py_source_l00065}{65}} of file \mbox{\hyperlink{_i_m_u_8py_source}{IMU.\+py}}.

\Hypertarget{class_i_m_u_1_1_i_m_u_a63014eeda3ed0cc4591b80809e66cf7a}\index{IMU.IMU@{IMU.IMU}!calibrated@{calibrated}}
\index{calibrated@{calibrated}!IMU.IMU@{IMU.IMU}}
\doxysubsubsection{\texorpdfstring{calibrated}{calibrated}}
{\footnotesize\ttfamily \label{class_i_m_u_1_1_i_m_u_a63014eeda3ed0cc4591b80809e66cf7a} 
bool IMU.\+IMU.\+calibrated = False}



Definition at line \mbox{\hyperlink{_i_m_u_8py_source_l00061}{61}} of file \mbox{\hyperlink{_i_m_u_8py_source}{IMU.\+py}}.

\Hypertarget{class_i_m_u_1_1_i_m_u_ababc43f9f8bdf021f155fd0324d48ba5}\index{IMU.IMU@{IMU.IMU}!convert\_reg\_to\_rad@{convert\_reg\_to\_rad}}
\index{convert\_reg\_to\_rad@{convert\_reg\_to\_rad}!IMU.IMU@{IMU.IMU}}
\doxysubsubsection{\texorpdfstring{convert\_reg\_to\_rad}{convert\_reg\_to\_rad}}
{\footnotesize\ttfamily \label{class_i_m_u_1_1_i_m_u_ababc43f9f8bdf021f155fd0324d48ba5} 
int IMU.\+IMU.\+convert\+\_\+reg\+\_\+to\+\_\+rad = 900}



Definition at line \mbox{\hyperlink{_i_m_u_8py_source_l00062}{62}} of file \mbox{\hyperlink{_i_m_u_8py_source}{IMU.\+py}}.

\Hypertarget{class_i_m_u_1_1_i_m_u_a8fcfad6fc4d6485b39ac764a5151403e}\index{IMU.IMU@{IMU.IMU}!default\_mode\_set@{default\_mode\_set}}
\index{default\_mode\_set@{default\_mode\_set}!IMU.IMU@{IMU.IMU}}
\doxysubsubsection{\texorpdfstring{default\_mode\_set}{default\_mode\_set}}
{\footnotesize\ttfamily \label{class_i_m_u_1_1_i_m_u_a8fcfad6fc4d6485b39ac764a5151403e} 
int IMU.\+IMU.\+default\+\_\+mode\+\_\+set = 5\hspace{0.3cm}{\ttfamily [static]}}



Definition at line \mbox{\hyperlink{_i_m_u_8py_source_l00012}{12}} of file \mbox{\hyperlink{_i_m_u_8py_source}{IMU.\+py}}.

\Hypertarget{class_i_m_u_1_1_i_m_u_abb2c32908d5ae1392831b46460bda0e6}\index{IMU.IMU@{IMU.IMU}!delta@{delta}}
\index{delta@{delta}!IMU.IMU@{IMU.IMU}}
\doxysubsubsection{\texorpdfstring{delta}{delta}}
{\footnotesize\ttfamily \label{class_i_m_u_1_1_i_m_u_abb2c32908d5ae1392831b46460bda0e6} 
float IMU.\+IMU.\+delta = self.\+get\+\_\+imu\+\_\+heading() -\/ self.\+prev\+\_\+imu\+\_\+heading}



Definition at line \mbox{\hyperlink{_i_m_u_8py_source_l00199}{199}} of file \mbox{\hyperlink{_i_m_u_8py_source}{IMU.\+py}}.

\Hypertarget{class_i_m_u_1_1_i_m_u_ae089e5b174b451d66017c2db68651108}\index{IMU.IMU@{IMU.IMU}!DEV\_ADDR@{DEV\_ADDR}}
\index{DEV\_ADDR@{DEV\_ADDR}!IMU.IMU@{IMU.IMU}}
\doxysubsubsection{\texorpdfstring{DEV\_ADDR}{DEV\_ADDR}}
{\footnotesize\ttfamily \label{class_i_m_u_1_1_i_m_u_ae089e5b174b451d66017c2db68651108} 
IMU.\+IMU.\+DEV\+\_\+\+ADDR = 0x28\hspace{0.3cm}{\ttfamily [static]}}



Definition at line \mbox{\hyperlink{_i_m_u_8py_source_l00011}{11}} of file \mbox{\hyperlink{_i_m_u_8py_source}{IMU.\+py}}.

\Hypertarget{class_i_m_u_1_1_i_m_u_a3e7a28177a9d4a83198f43bdfc05eded}\index{IMU.IMU@{IMU.IMU}!heading@{heading}}
\index{heading@{heading}!IMU.IMU@{IMU.IMU}}
\doxysubsubsection{\texorpdfstring{heading}{heading}}
{\footnotesize\ttfamily \label{class_i_m_u_1_1_i_m_u_a3e7a28177a9d4a83198f43bdfc05eded} 
int IMU.\+IMU.\+heading = 0}



Definition at line \mbox{\hyperlink{_i_m_u_8py_source_l00064}{64}} of file \mbox{\hyperlink{_i_m_u_8py_source}{IMU.\+py}}.

\Hypertarget{class_i_m_u_1_1_i_m_u_a3a2f3227a652d6d58fd5e1c8353e9170}\index{IMU.IMU@{IMU.IMU}!i2c@{i2c}}
\index{i2c@{i2c}!IMU.IMU@{IMU.IMU}}
\doxysubsubsection{\texorpdfstring{i2c}{i2c}}
{\footnotesize\ttfamily \label{class_i_m_u_1_1_i_m_u_a3a2f3227a652d6d58fd5e1c8353e9170} 
IMU.\+IMU.\+i2c = i2c\+\_\+object}



Definition at line \mbox{\hyperlink{_i_m_u_8py_source_l00058}{58}} of file \mbox{\hyperlink{_i_m_u_8py_source}{IMU.\+py}}.

\Hypertarget{class_i_m_u_1_1_i_m_u_a4f8bc59fa581f67bcc31ad161d1b7f10}\index{IMU.IMU@{IMU.IMU}!Kd@{Kd}}
\index{Kd@{Kd}!IMU.IMU@{IMU.IMU}}
\doxysubsubsection{\texorpdfstring{Kd}{Kd}}
{\footnotesize\ttfamily \label{class_i_m_u_1_1_i_m_u_a4f8bc59fa581f67bcc31ad161d1b7f10} 
float IMU.\+IMU.\+Kd = 0.\+00\hspace{0.3cm}{\ttfamily [static]}}



Definition at line \mbox{\hyperlink{_i_m_u_8py_source_l00017}{17}} of file \mbox{\hyperlink{_i_m_u_8py_source}{IMU.\+py}}.

\Hypertarget{class_i_m_u_1_1_i_m_u_ae11b4e8da620740d5cea923939c8bfbb}\index{IMU.IMU@{IMU.IMU}!Ki@{Ki}}
\index{Ki@{Ki}!IMU.IMU@{IMU.IMU}}
\doxysubsubsection{\texorpdfstring{Ki}{Ki}}
{\footnotesize\ttfamily \label{class_i_m_u_1_1_i_m_u_ae11b4e8da620740d5cea923939c8bfbb} 
float IMU.\+IMU.\+Ki = 0.\+20\hspace{0.3cm}{\ttfamily [static]}}



Definition at line \mbox{\hyperlink{_i_m_u_8py_source_l00016}{16}} of file \mbox{\hyperlink{_i_m_u_8py_source}{IMU.\+py}}.

\Hypertarget{class_i_m_u_1_1_i_m_u_ad824e5de19468403b24749b8746469cd}\index{IMU.IMU@{IMU.IMU}!Kp@{Kp}}
\index{Kp@{Kp}!IMU.IMU@{IMU.IMU}}
\doxysubsubsection{\texorpdfstring{Kp}{Kp}}
{\footnotesize\ttfamily \label{class_i_m_u_1_1_i_m_u_ad824e5de19468403b24749b8746469cd} 
float IMU.\+IMU.\+Kp = 0.\+15\hspace{0.3cm}{\ttfamily [static]}}



Definition at line \mbox{\hyperlink{_i_m_u_8py_source_l00015}{15}} of file \mbox{\hyperlink{_i_m_u_8py_source}{IMU.\+py}}.

\Hypertarget{class_i_m_u_1_1_i_m_u_ae95535b92360c55599b342e84aa71089}\index{IMU.IMU@{IMU.IMU}!prev\_imu\_heading@{prev\_imu\_heading}}
\index{prev\_imu\_heading@{prev\_imu\_heading}!IMU.IMU@{IMU.IMU}}
\doxysubsubsection{\texorpdfstring{prev\_imu\_heading}{prev\_imu\_heading}}
{\footnotesize\ttfamily \label{class_i_m_u_1_1_i_m_u_ae95535b92360c55599b342e84aa71089} 
int IMU.\+IMU.\+prev\+\_\+imu\+\_\+heading = 0}



Definition at line \mbox{\hyperlink{_i_m_u_8py_source_l00063}{63}} of file \mbox{\hyperlink{_i_m_u_8py_source}{IMU.\+py}}.

\Hypertarget{class_i_m_u_1_1_i_m_u_ae79966f9814767d3b896a9d38d487159}\index{IMU.IMU@{IMU.IMU}!reset\_pin@{reset\_pin}}
\index{reset\_pin@{reset\_pin}!IMU.IMU@{IMU.IMU}}
\doxysubsubsection{\texorpdfstring{reset\_pin}{reset\_pin}}
{\footnotesize\ttfamily \label{class_i_m_u_1_1_i_m_u_ae79966f9814767d3b896a9d38d487159} 
IMU.\+IMU.\+reset\+\_\+pin = reset\+\_\+pin}



Definition at line \mbox{\hyperlink{_i_m_u_8py_source_l00059}{59}} of file \mbox{\hyperlink{_i_m_u_8py_source}{IMU.\+py}}.



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
Lab Final/\+Files On Romi/\mbox{\hyperlink{_i_m_u_8py}{IMU.\+py}}\end{DoxyCompactItemize}
